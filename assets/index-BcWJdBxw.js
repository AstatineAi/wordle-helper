(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const e of l)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function f(l){const e={};return l.integrity&&(e.integrity=l.integrity),l.referrerPolicy&&(e.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?e.credentials="include":l.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(l){if(l.ep)return;l.ep=!0;const e=f(l);fetch(l.href,e)}})();const j="modulepreload",z=function(d){return"/"+d},S={},W=function(o,f,a){let l=Promise.resolve();if(f&&f.length>0){let r=function(s){return Promise.all(s.map(i=>Promise.resolve(i).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=t?.nonce||t?.getAttribute("nonce");l=r(f.map(s=>{if(s=z(s),s in S)return;S[s]=!0;const i=s.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":j,i||(u.as="script"),u.crossOrigin="",u.href=s,n&&u.setAttribute("nonce",n),document.head.appendChild(u),i)return new Promise((g,_)=>{u.addEventListener("load",g),u.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${s}`)))})}))}function e(t){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=t,window.dispatchEvent(n),!n.defaultPrevented)throw t}return l.then(t=>{for(const n of t||[])n.status==="rejected"&&e(n.reason);return o().catch(e)})},T=0,A=1,b=0,y=8,O=28,$=37,K=52,B=58;class U{static read_bytes(o,f){const a=new U;return a.buf=o.getUint32(f,!0),a.buf_len=o.getUint32(f+4,!0),a}static read_bytes_array(o,f,a){const l=[];for(let e=0;e<a;e++)l.push(U.read_bytes(o,f+8*e));return l}}class E{static read_bytes(o,f){const a=new E;return a.buf=o.getUint32(f,!0),a.buf_len=o.getUint32(f+4,!0),a}static read_bytes_array(o,f,a){const l=[];for(let e=0;e<a;e++)l.push(E.read_bytes(o,f+8*e));return l}}const q=0,F=1;class v{static read_bytes(o,f){return new v(o.getBigUint64(f,!0),o.getUint8(f+8),o.getUint32(f+16,!0),o.getBigUint64(f+24,!0),o.getUint16(f+36,!0))}constructor(o,f,a,l,e){this.userdata=o,this.eventtype=f,this.clockid=a,this.timeout=l,this.flags=e}}let J=class{write_bytes(o,f){o.setBigUint64(f,this.userdata,!0),o.setUint16(f+8,this.error,!0),o.setUint8(f+10,this.eventtype)}constructor(o,f,a){this.userdata=o,this.error=f,this.eventtype=a}},G=class{enable(o){this.log=H(o===void 0?!0:o,this.prefix)}get enabled(){return this.isEnabled}constructor(o){this.isEnabled=o,this.prefix="wasi:",this.enable(o)}};function H(d,o){return d?console.log.bind(console,"%c%s","color: #265BA0",o):()=>{}}const p=new G(!1);class L extends Error{constructor(o){super("exit with exit code "+o),this.code=o}}let Y=class{start(o){this.inst=o;try{return o.exports._start(),0}catch(f){if(f instanceof L)return f.code;throw f}}initialize(o){this.inst=o,o.exports._initialize&&o.exports._initialize()}constructor(o,f,a,l={}){this.args=[],this.env=[],this.fds=[],p.enable(l.debug),this.args=o,this.env=f,this.fds=a;const e=this;this.wasiImport={args_sizes_get(t,n){const r=new DataView(e.inst.exports.memory.buffer);r.setUint32(t,e.args.length,!0);let s=0;for(const i of e.args)s+=i.length+1;return r.setUint32(n,s,!0),p.log(r.getUint32(t,!0),r.getUint32(n,!0)),0},args_get(t,n){const r=new DataView(e.inst.exports.memory.buffer),s=new Uint8Array(e.inst.exports.memory.buffer),i=n;for(let c=0;c<e.args.length;c++){r.setUint32(t,n,!0),t+=4;const u=new TextEncoder().encode(e.args[c]);s.set(u,n),r.setUint8(n+u.length,0),n+=u.length+1}return p.enabled&&p.log(new TextDecoder("utf-8").decode(s.slice(i,n))),0},environ_sizes_get(t,n){const r=new DataView(e.inst.exports.memory.buffer);r.setUint32(t,e.env.length,!0);let s=0;for(const i of e.env)s+=new TextEncoder().encode(i).length+1;return r.setUint32(n,s,!0),p.log(r.getUint32(t,!0),r.getUint32(n,!0)),0},environ_get(t,n){const r=new DataView(e.inst.exports.memory.buffer),s=new Uint8Array(e.inst.exports.memory.buffer),i=n;for(let c=0;c<e.env.length;c++){r.setUint32(t,n,!0),t+=4;const u=new TextEncoder().encode(e.env[c]);s.set(u,n),r.setUint8(n+u.length,0),n+=u.length+1}return p.enabled&&p.log(new TextDecoder("utf-8").decode(s.slice(i,n))),0},clock_res_get(t,n){let r;switch(t){case A:{r=5000n;break}case T:{r=1000000n;break}default:return K}return new DataView(e.inst.exports.memory.buffer).setBigUint64(n,r,!0),b},clock_time_get(t,n,r){const s=new DataView(e.inst.exports.memory.buffer);if(t===T)s.setBigUint64(r,BigInt(new Date().getTime())*1000000n,!0);else if(t==A){let i;try{i=BigInt(Math.round(performance.now()*1e6))}catch{i=0n}s.setBigUint64(r,i,!0)}else s.setBigUint64(r,0n,!0);return 0},fd_advise(t,n,r,s){return e.fds[t]!=null?b:y},fd_allocate(t,n,r){return e.fds[t]!=null?e.fds[t].fd_allocate(n,r):y},fd_close(t){if(e.fds[t]!=null){const n=e.fds[t].fd_close();return e.fds[t]=void 0,n}else return y},fd_datasync(t){return e.fds[t]!=null?e.fds[t].fd_sync():y},fd_fdstat_get(t,n){if(e.fds[t]!=null){const{ret:r,fdstat:s}=e.fds[t].fd_fdstat_get();return s?.write_bytes(new DataView(e.inst.exports.memory.buffer),n),r}else return y},fd_fdstat_set_flags(t,n){return e.fds[t]!=null?e.fds[t].fd_fdstat_set_flags(n):y},fd_fdstat_set_rights(t,n,r){return e.fds[t]!=null?e.fds[t].fd_fdstat_set_rights(n,r):y},fd_filestat_get(t,n){if(e.fds[t]!=null){const{ret:r,filestat:s}=e.fds[t].fd_filestat_get();return s?.write_bytes(new DataView(e.inst.exports.memory.buffer),n),r}else return y},fd_filestat_set_size(t,n){return e.fds[t]!=null?e.fds[t].fd_filestat_set_size(n):y},fd_filestat_set_times(t,n,r,s){return e.fds[t]!=null?e.fds[t].fd_filestat_set_times(n,r,s):y},fd_pread(t,n,r,s,i){const c=new DataView(e.inst.exports.memory.buffer),u=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const g=U.read_bytes_array(c,n,r);let _=0;for(const m of g){const{ret:h,data:w}=e.fds[t].fd_pread(m.buf_len,s);if(h!=b)return c.setUint32(i,_,!0),h;if(u.set(w,m.buf),_+=w.length,s+=BigInt(w.length),w.length!=m.buf_len)break}return c.setUint32(i,_,!0),b}else return y},fd_prestat_get(t,n){const r=new DataView(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const{ret:s,prestat:i}=e.fds[t].fd_prestat_get();return i?.write_bytes(r,n),s}else return y},fd_prestat_dir_name(t,n,r){if(e.fds[t]!=null){const{ret:s,prestat:i}=e.fds[t].fd_prestat_get();if(i==null)return s;const c=i.inner.pr_name;return new Uint8Array(e.inst.exports.memory.buffer).set(c.slice(0,r),n),c.byteLength>r?$:b}else return y},fd_pwrite(t,n,r,s,i){const c=new DataView(e.inst.exports.memory.buffer),u=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const g=E.read_bytes_array(c,n,r);let _=0;for(const m of g){const h=u.slice(m.buf,m.buf+m.buf_len),{ret:w,nwritten:x}=e.fds[t].fd_pwrite(h,s);if(w!=b)return c.setUint32(i,_,!0),w;if(_+=x,s+=BigInt(x),x!=h.byteLength)break}return c.setUint32(i,_,!0),b}else return y},fd_read(t,n,r,s){const i=new DataView(e.inst.exports.memory.buffer),c=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const u=U.read_bytes_array(i,n,r);let g=0;for(const _ of u){const{ret:m,data:h}=e.fds[t].fd_read(_.buf_len);if(m!=b)return i.setUint32(s,g,!0),m;if(c.set(h,_.buf),g+=h.length,h.length!=_.buf_len)break}return i.setUint32(s,g,!0),b}else return y},fd_readdir(t,n,r,s,i){const c=new DataView(e.inst.exports.memory.buffer),u=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){let g=0;for(;;){const{ret:_,dirent:m}=e.fds[t].fd_readdir_single(s);if(_!=0)return c.setUint32(i,g,!0),_;if(m==null)break;if(r-g<m.head_length()){g=r;break}const h=new ArrayBuffer(m.head_length());if(m.write_head_bytes(new DataView(h),0),u.set(new Uint8Array(h).slice(0,Math.min(h.byteLength,r-g)),n),n+=m.head_length(),g+=m.head_length(),r-g<m.name_length()){g=r;break}m.write_name_bytes(u,n,r-g),n+=m.name_length(),g+=m.name_length(),s=m.d_next}return c.setUint32(i,g,!0),0}else return y},fd_renumber(t,n){if(e.fds[t]!=null&&e.fds[n]!=null){const r=e.fds[n].fd_close();return r!=0?r:(e.fds[n]=e.fds[t],e.fds[t]=void 0,0)}else return y},fd_seek(t,n,r,s){const i=new DataView(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const{ret:c,offset:u}=e.fds[t].fd_seek(n,r);return i.setBigInt64(s,u,!0),c}else return y},fd_sync(t){return e.fds[t]!=null?e.fds[t].fd_sync():y},fd_tell(t,n){const r=new DataView(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const{ret:s,offset:i}=e.fds[t].fd_tell();return r.setBigUint64(n,i,!0),s}else return y},fd_write(t,n,r,s){const i=new DataView(e.inst.exports.memory.buffer),c=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const u=E.read_bytes_array(i,n,r);let g=0;for(const _ of u){const m=c.slice(_.buf,_.buf+_.buf_len),{ret:h,nwritten:w}=e.fds[t].fd_write(m);if(h!=b)return i.setUint32(s,g,!0),h;if(g+=w,w!=m.byteLength)break}return i.setUint32(s,g,!0),b}else return y},path_create_directory(t,n,r){const s=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const i=new TextDecoder("utf-8").decode(s.slice(n,n+r));return e.fds[t].path_create_directory(i)}else return y},path_filestat_get(t,n,r,s,i){const c=new DataView(e.inst.exports.memory.buffer),u=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const g=new TextDecoder("utf-8").decode(u.slice(r,r+s)),{ret:_,filestat:m}=e.fds[t].path_filestat_get(n,g);return m?.write_bytes(c,i),_}else return y},path_filestat_set_times(t,n,r,s,i,c,u){const g=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const _=new TextDecoder("utf-8").decode(g.slice(r,r+s));return e.fds[t].path_filestat_set_times(n,_,i,c,u)}else return y},path_link(t,n,r,s,i,c,u){const g=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null&&e.fds[i]!=null){const _=new TextDecoder("utf-8").decode(g.slice(r,r+s)),m=new TextDecoder("utf-8").decode(g.slice(c,c+u)),{ret:h,inode_obj:w}=e.fds[t].path_lookup(_,n);return w==null?h:e.fds[i].path_link(m,w,!1)}else return y},path_open(t,n,r,s,i,c,u,g,_){const m=new DataView(e.inst.exports.memory.buffer),h=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const w=new TextDecoder("utf-8").decode(h.slice(r,r+s));p.log(w);const{ret:x,fd_obj:P}=e.fds[t].path_open(n,w,i,c,u,g);if(x!=0)return x;e.fds.push(P);const M=e.fds.length-1;return m.setUint32(_,M,!0),0}else return y},path_readlink(t,n,r,s,i,c){const u=new DataView(e.inst.exports.memory.buffer),g=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const _=new TextDecoder("utf-8").decode(g.slice(n,n+r));p.log(_);const{ret:m,data:h}=e.fds[t].path_readlink(_);if(h!=null){const w=new TextEncoder().encode(h);if(w.length>i)return u.setUint32(c,0,!0),y;g.set(w,s),u.setUint32(c,w.length,!0)}return m}else return y},path_remove_directory(t,n,r){const s=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const i=new TextDecoder("utf-8").decode(s.slice(n,n+r));return e.fds[t].path_remove_directory(i)}else return y},path_rename(t,n,r,s,i,c){const u=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null&&e.fds[s]!=null){const g=new TextDecoder("utf-8").decode(u.slice(n,n+r)),_=new TextDecoder("utf-8").decode(u.slice(i,i+c));let{ret:m,inode_obj:h}=e.fds[t].path_unlink(g);if(h==null)return m;if(m=e.fds[s].path_link(_,h,!0),m!=b&&e.fds[t].path_link(g,h,!0)!=b)throw"path_link should always return success when relinking an inode back to the original place";return m}else return y},path_symlink(t,n,r,s,i){const c=new Uint8Array(e.inst.exports.memory.buffer);return e.fds[r]!=null?(new TextDecoder("utf-8").decode(c.slice(t,t+n)),new TextDecoder("utf-8").decode(c.slice(s,s+i)),B):y},path_unlink_file(t,n,r){const s=new Uint8Array(e.inst.exports.memory.buffer);if(e.fds[t]!=null){const i=new TextDecoder("utf-8").decode(s.slice(n,n+r));return e.fds[t].path_unlink_file(i)}else return y},poll_oneoff(t,n,r){if(r===0)return O;if(r>1)return p.log("poll_oneoff: only a single subscription is supported"),B;const s=new DataView(e.inst.exports.memory.buffer),i=v.read_bytes(s,t),c=i.eventtype,u=i.clockid,g=i.timeout;if(c!==q)return p.log("poll_oneoff: only clock subscriptions are supported"),B;let _;if(u===A)_=()=>BigInt(Math.round(performance.now()*1e6));else if(u===T)_=()=>BigInt(new Date().getTime())*1000000n;else return O;const m=(i.flags&F)!==0?g:_()+g;for(;m>_(););return new J(i.userdata,b,c).write_bytes(s,n),b},proc_exit(t){throw new L(t)},proc_raise(t){throw"raised signal "+t},sched_yield(){},random_get(t,n){const r=new Uint8Array(e.inst.exports.memory.buffer).subarray(t,t+n);if("crypto"in globalThis&&(typeof SharedArrayBuffer>"u"||!(e.inst.exports.memory.buffer instanceof SharedArrayBuffer)))for(let s=0;s<n;s+=65536)crypto.getRandomValues(r.subarray(s,s+65536));else for(let s=0;s<n;s++)r[s]=Math.random()*256|0},sock_recv(t,n,r){throw"sockets not supported"},sock_send(t,n,r){throw"sockets not supported"},sock_shutdown(t,n){throw"sockets not supported"},sock_accept(t,n){throw"sockets not supported"}}}};const N=document.getElementById("grid"),k=6,D=5;for(let d=0;d<k;d++){const o=document.createElement("div");o.className="row";for(let f=0;f<D;f++){const a=document.createElement("div");a.className="cell absent",a.dataset.row=d,a.dataset.col=f,a.dataset.color="absent",a.addEventListener("click",()=>Q(a)),o.appendChild(a)}N.appendChild(o)}function Q(d){const o=["absent","present","correct"],f=d.dataset.color,a=(o.indexOf(f)+1)%o.length,l=o[a];d.className=`cell ${l}`,d.dataset.color=l}document.addEventListener("keydown",d=>{d.key.match(/^[a-z]$/i)?X(d.key.toLowerCase()):d.key==="Backspace"&&Z()});function X(d){for(let o=0;o<k;o++)for(let f=0;f<D;f++){const a=I(o,f);if(!a.innerText){a.innerText=d;return}}}function Z(){for(let d=k-1;d>=0;d--)for(let o=D-1;o>=0;o--){const f=I(d,o);if(f.innerText){f.innerText="";return}}}function I(d,o){return N.children[d].children[o]}function C(){const d=[];for(let o=0;o<k;o++){let f="",a="",l=!1;for(let e=0;e<D;e++){const t=I(o,e),n=t.innerText;if(n){l=!0,f+=n;const r=t.dataset.color;r==="correct"?a+="g":r==="present"?a+="y":a+="x"}}l&&f.length===5&&d.push(`${f}:${a}`)}return d}async function ee(){const d=new Y([],[],[]),o={};let f={};try{f=(await W(()=>import("./ghc_wasm_jsffi-CMvVU-9M.js"),[])).default(o)}catch(l){console.warn("ghc_wasm_jsffi.js not found or failed to load.",l)}let a={wasi_snapshot_preview1:d.wasiImport,ghc_wasm_jsffi:f};try{const{instance:l}=await WebAssembly.instantiateStreaming(fetch("/wordle-helper.wasm"),a);Object.assign(o,l.exports),d.initialize(l),console.log("WASM initialized"),l.exports.hs_start?(console.log("Calling hs_start..."),l.exports.hs_start(),console.log("hs_start returned."),te()):console.error("hs_start export not found!")}catch(l){console.error("Failed to load WASM:",l)}}function te(){document.getElementById("suggest-new").disabled=!1,document.getElementById("suggest-best").disabled=!1,document.getElementById("reset").disabled=!1}function ne(){document.getElementById("suggest-new").disabled=!0,document.getElementById("suggest-best").disabled=!0,document.getElementById("reset").disabled=!0}ne();ee();function V(d,o){return new Promise(f=>{window[d]?window[d](o,f):(console.error(d+" not found"),f("[]"))})}document.getElementById("suggest-new").addEventListener("click",async()=>{const d=C();console.log("Sending guesses:",d);const o=await V("suggestNewWords",JSON.stringify(d));R(JSON.parse(o))});document.getElementById("suggest-best").addEventListener("click",async()=>{const d=C();console.log("Sending guesses:",d);const o=await V("suggestBestWords",JSON.stringify(d));R(JSON.parse(o))});document.getElementById("reset").addEventListener("click",()=>{document.querySelectorAll(".cell").forEach(d=>{d.innerText="",d.className="cell absent",d.dataset.color="absent"}),document.getElementById("suggestion-list").innerHTML=""});function R(d){const o=document.getElementById("suggestion-list");o.innerHTML="",d.forEach(f=>{const a=document.createElement("li");a.className="suggestion-item",a.innerText=f,o.appendChild(a)})}export{W as _};
